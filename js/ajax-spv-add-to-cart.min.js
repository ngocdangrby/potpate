var etAjaxVariableProducts;!function(i){"use strict";etAjaxVariableProducts={init:function(){this.variableSingleProduct()},variableSingleProduct:function(){i(document).on("click",".variations_form .single_add_to_cart_button:not(.disabled, .wc-variation-selection-needed, .et-single-buy-now)",function(a){a.preventDefault();var e=i(this),a=e.closest("form.variations_form"),n=i("body"),r={action:"etheme_svp_cart"};e.removeClass("added"),e.addClass("loading"),a.serializeArray().map(function(a){var t;"add-to-cart"!==a.name&&(a.name.endsWith("[]")?((t=a.name.substring(0,a.name.length-2))in r||(r[t]=[]),r[t].push(a.value)):r[a.name]=a.value)}),n.trigger("adding_to_cart",[e,r]),i.ajax({url:etConfig.ajaxurl,dataType:"json",method:"POST",data:r,success:function(a){var t;a.error?window.location.href=a.product_url:(t=a.fragments,a=a.cart_hash,t&&i.each(t,function(a,t){i(a).replaceWith(t)}),n.trigger("added_to_cart",[t,a,e]),e.addClass("added"))}})})}},i(document).ready(function(){etAjaxVariableProducts.init()})}(jQuery);