window.et_panel=window.et_panel||{},function(a){a(document).ready(function(a){var b={instagram_save_options:function(b,c){if(c.preventDefault(),a(".etheme-instagram-save-info").addClass("hidden"),confirm("Are you sure ?")){a(".etheme-instagram-settings").addClass("processing");var d={action:"et_panel_ajax",action_type:"et_instagram_save_settings",time:a("#instagram_time").val(),time_type:a("#instagram_time_type").val(),escape_albums:a("#escape_albums").prop("checked")};a.ajax({type:"POST",url:ajaxurl,data:d,success:function(b){"success"==b.type?a(".etheme-instagram-save-info.info-success").removeClass("hidden"):a(".etheme-instagram-save-info.info-error").removeClass("hidden"),a(document).find(".etheme-instagram-reinit")[0].click()},error:function(){alert("Error while deleting")},complete:function(){a(".etheme-instagram-settings").removeClass("processing")}})}},instagram_toogle_manual:function(b,c){c.preventDefault();var d=a(".etheme-instagram-manual-form");d.hasClass("hidden")?d.removeClass("hidden"):d.addClass("hidden")},instagram_connect_manual:function(b,c){if(c.preventDefault(),confirm("Are you sure")){var d=b.parent(),e={action:"et_panel_ajax",action_type:"et_instagram_user_add",token:a("#etheme-manual-token").val()};if(!e.token)return void d.find(".etheme-form-error").removeClass("hidden");d.find(".etheme-form-error").addClass("hidden"),a.ajax({type:"POST",url:ajaxurl,data:e,dataType:"JSON",success:function(a){"success"!=a.status?(d.find(".etheme-form-error-holder").text(""),d.find(".etheme-form-error-holder").text(a.msg),d.find(".etheme-form-error-holder").removeClass("hidden")):location.reload()},error:function(){alert("Error while deleting")},complete:function(){}})}},instagram_user_remove:function(b,c){if(c.preventDefault(),confirm("Are you sure")){var d=b.parents(".etheme-user"),e={action:"et_panel_ajax",action_type:"et_instagram_user_remove",token:d.find(".user-token").attr("data-token")};a.ajax({type:"POST",url:ajaxurl,data:e,success:function(b){"success"!=b.status||(a(".etheme-user").length<2&&a(".etheme-no-users").removeClass("hidden"),d.remove())},error:function(){alert("Error while deleting")},complete:function(){}})}},instagram_socials_tabs:function(b,c){a(".etheme-social-tabs li").removeClass("active"),b.addClass("active"),a(".etheme-social-tab").addClass("hidden"),a(".etheme-social-"+b.attr("data-network")).removeClass("hidden")},instagram_save_network_options:function(b,c){if(c.preventDefault(),confirm("Are you sure ?")){b.parents(".etheme-div").find(".etheme-network-save-info").addClass("hidden"),b.closest(".etheme-div").addClass("processing");var d={action:"etheme_update_network",helper:"instagram",form:b.closest("form").serializeArray()};a.ajax({type:"POST",url:ajaxurl,data:d,success:function(a){"success"==a.status?b.parents(".etheme-div").find(".etheme-network-save-info.info-success").removeClass("hidden"):b.parents(".etheme-div").find(".etheme-network-save-info.info-error").removeClass("hidden")},error:function(){alert("Error while deleting")},complete:function(){b.closest(".etheme-div").removeClass("processing")}})}}};window.et_panel=Object.assign(window.et_panel,b);var c={1:{selector:".etheme-instagram-settings .etheme-instagram-save",type:"click",callback:et_panel.instagram_save_options},2:{selector:".etheme-instagram-manual",type:"click",callback:et_panel.instagram_toogle_manual},3:{selector:".etheme-manual-btn",type:"click",callback:et_panel.instagram_connect_manual},4:{selector:".etheme-user .user-remove",type:"click",callback:et_panel.instagram_user_remove},5:{selector:".etheme-social-tabs li",type:"click",callback:et_panel.instagram_socials_tabs},6:{selector:".etheme-network-save",type:"click",callback:et_panel.instagram_save_network_options}};a.each(c,function(b,c){"ready"==c.type?a(document).ready(function(b){c.callback(a(this),b)}):a(c.selector).on(c.type,function(b){c.callback(a(this),b)})})})}(jQuery,window.et_panel);